#### https://losst.pro/kak-polzovatsya-ssh
#### Для чего предназначена команда ssh:
SSH — защищенный протокол для удаленного доступа к компьютерам. Через SSH можно выполнять операции в командной строке компьютера, который физически находится в другом месте.
Иными словами, SSH — это дистанционная командная строка. Визуально вы работаете на своем компьютере, но в реальности — на другом.

#### Работает ssh:
SSH-соединение.
Основной принцип работы такой: SSH-клиент на компьютере соединяется с SSH-сервером, они убеждаются, что каждый именно тот, за кого себя выдаёт, договариваются о шифровании и после этого устанавливают защищённый туннель для передачи команд. Важно понимать, что сервер — это просто такое название для удалённого компьютера. Сервером может быть и домашний ноутбук, и плата на Raspberry Pi.

#### Подключиться по ssh Linux:
SSH-Linux-клиент предустановлен на всех версиях операционной системы Linux. Также SSH-доступ заранее настроен на серверах под управлением Linux.
1. Пользователю Linux для применения SSH достаточно запустить терминал (так называется командная строка в Linux) и набрать команду:
ssh user@host
2. Система предложит вам ввести пароль.
3. Произойдет соединение с удаленным компьютером-сервером, и вы сможете начать полноценную работу на нем.
   
### Опции команды SSH
Теперь давайте рассмотрим самые основные опции команды ssh:

* f - перевести ssh в фоновый режим;
* g - разрешить удаленным машинам обращаться к локальным портам;
* l - имя пользователя в системе;
* n - перенаправить стандартный вывод в /dev/null;
* p - порт ssh на удаленной машине;
* q - не показывать сообщения об ошибках;
* v - режим отладки;
* x - отключить перенаправление X11;
* X - включить перенаправление Х11;
* C - включить сжатие.
#### Секретный ключ:
SSH-ключ — безопасный способ соединения с сервером. Подключение по SSH с помощью ключа исключает риск, который связан с подбором и взломом вашего пароля.
Для аутентификации используются два ключа: приватный и публичный. Публичный ключ хранится на сервере в корневом каталоге, а приватный ключ остаётся на локальном компьютере в зашифрованном виде. Каждый раз, когда вы обращаетесь к серверу, происходит сопоставление ключей.
#### Лежат ssh ключи:
По умолчанию ключи хранятся в каталоге ~/.ssh внутри домашнего каталога вашего пользователя. Закрытый ключ будет иметь имя id_rsa, а соответствующий открытый ключ будет иметь имя id_rsa.pub.
На этом этапе лучше всего использовать каталог по умолчанию. Это позволит вашему клиенту SSH автоматически находить ключи SSH при попытке аутентификации.
#### Выйти из SSH-соединения:
Два пути:
Закрытие сеанса оболочки, например, с exit после которого следует Enter, или Ctrl - d обычно позволяет вам нормально выйти из сеанса ssh ,
Если у вас плохое соединение и оболочка не отвечает, нажмите клавишу Enter, затем введите ~. и ssh должен немедленно закрыться и вернуть вас в командную строку.
#### Проброс порта ssh:
SSH-туннелирование или перенаправление портов SSH — это метод создания зашифрованного SSH-соединения между клиентом и сервером, через которое могут ретранслироваться порты служб. Перенаправление SSH полезно для передачи сетевых данных служб, использующих незашифрованный протокол, например VNC или FTP, доступа к контенту с географическим ограничением или обхода промежуточных межсетевых экранов.
#### Свой ssh key Windows:
Чтобы найти свой SSH-ключ на Windows, необходимо выполнить следующие шаги:
Откройте проводник и перейдите в каталог C:\Users\username\.ssh.
Найдите файл с именем id_rsa.pub и откройте его в текстовом редакторе.
Скопируйте содержимое файла в буфер обмена, чтобы использовать его при создании SSH-ключа на сервере.
#### Узнать порт ssh:
используйте команду netstat -na | find «22»
Для того, чтобы найти SSH порт, используйте команду netstat -na | find «22». Эта команда покажет все открытые порты в системе Windows. Порт 22 — это порт SSH по умолчанию. Если вы используете другой порт, замените «22» на свой. 2. Проверьте конфигурационный файл. Конфигурационный файл SSH — это файл, который содержит информацию обо всех настройках SSH. Он может быть использован, чтобы определить порты, используемые SSH.
#### перезагрузить ssh сервер чтобы сохранить изменения:
 service sshd restart

#### Подключение к серверу:
   * Чтобы просто подключиться к серверу по SSH используйте такую команду: ssh user@host
   * утилита ssh позволяет сразу выполнить нужную команду без открытия терминала удаленной машины. Например: ssh user@host ls
   * Выполнит команду ls на удаленном сервере и вернет ее вывод в текущий терминал.
#### Доступ к файлам:
* ls -alh
ls команда которая показывает список файлов и папок. -alh модифицирует стандартный вывод.
a - говорит что нужно показать даже скрытые файлы
l - позволяет показать полную информацию о файле(права, размер, пользователя, дату)
h - делает вывод более читабельным
