### Docker –
  это программная платформа для быстрой разработки, тестирования и развертывания приложений. 
  Другими словами, это инструмент, который позволяет разработчикам, системным администраторам и другим специалистам разворачивать их приложения в песочницах (которые называются контейнерами), для запуска на необходимой операционной системе, например, Linux. Ключевое преимущество Docker в том, что он позволяет пользователям упаковать приложение со всеми его зависимостями в стандартизированный модуль для разработки. В отличие от виртуальных машин, контейнеры не создают высокой дополнительной нагрузки, поэтому с ними можно использовать систему и ресурсы более эффективно.

### Что такое контейнер?
  По сути, контейнеры — это виртуальные машины, но на более низком уровне, поэтому они потребляют меньше ресурсов по сравнению с виртуальной машиной.

### Отличие образа (image) от контейнера (container)
  В инфраструктуре docker есть два важных понятия: образ (image) и контейнер (container)

### Docker образ — 
  * это шаблон (физически — исполняемый пакет), из которого создаются Docker-контейнеры.
      Образ хранит в себе всё необходимое для запуска приложения, помещенного в контейнер: код, среду выполнения, библиотеки, переменные окружения и конфигурационные файлы.
  * Другими словами, docker образ – это как ведерко в детской песочнице. При помощи него создают куличики (контейнеры), а в зависимости от того,
     какой формы ведро, куличики (контейнеры) меняют свою форму. 
### Чем отличается docker от docker compose?
  * Docker применяется для управления отдельными контейнерами (сервисами), из которых состоит приложение.
  * Docker Compose используется для одновременного управления несколькими контейнерами, входящими в состав приложения. Этот инструмент предлагает те же возможности, что и Docker, но позволяет работать с более     
      сложными приложениями.
### Docker-образ 
  * создаётся с помощью команды docker build, которая считывает конфигурацию создаваемого образа из специального конфигурационного файла — dockerfile.

### В Dockerfile 
  * записываются команды и опции создания образа, а также некоторые настройки будущего контейнера, такие, как порты, переменные окружения и другие опции.
  * Каждая команда, записанная в dockerfile, создаёт свой слой. Чем больше слоёв, тем дольше будет собираться образ и дольше будет загружаться контейнер.
  * Финальный Docker-образ — это объединение всех слоев в один. Благодаря такому подходу можно переиспользовать уже готовые образы для создания новых образов.

### Контейнер — 
  * это запущенный и изолированный образ с возможностью временного сохранения данных. Данные записываются в специальный слой «сверху» контейнера и при удалении контейнера данные также удаляются.
  * Для работы с контейнерами Docker предоставляет всего несколько основных команд: docker run/stop/restart.
### Терминология
* Images (образы) - Схемы нашего приложения, которые являются основой контейнеров. В примере выше мы использовали команду docker pull чтобы скачать образ busybox.
* Containers (контейнеры) - Создаются на основе образа и запускают само приложение. Мы создали контейнер командой docker run, и использовали образ busybox, скачанный ранее. Список запущенных контейнеров можно увидеть с помощью команды docker ps.
* Docker Daemon (демон Докера) - Фоновый сервис, запущенный на хост-машине, который отвечает за создание, запуск и уничтожение Докер-контейнеров. Демон — это процесс, который запущен на операционной системе, с которой взаимодействует клиент.
* Docker Client (клиент Докера) - Утилита командной строки, которая позволяет пользователю взаимодействовать с демоном. Существуют другие формы клиента, например, Kitematic, с графическим интерфейсом.
* Docker Hub - Регистр Докер-образов. Грубо говоря, архив всех доступных образов. Если нужно, то можно содержать собственный регистр и использовать его для получения образов.

### Установка Docker для Kali Linux
  * Для начала обновим нашу систему sudo apt update; sudo apt full-upgrade -y
### 5.4.1. Установка пакетов
dpkg — это, прежде всего, инструмент для установки уже доступных пакетов Debian (поскольку он ничего не загружает).
  *  Чтобы установить пакет, используется опция -i или --install.
  *  sudo dpkg -i *.deb
  *  sudo gdebi имя_пакета.deb
  *  sudo apt install ./имя_пакета.deb
### Наиболее используемые опции в контейнере Docker:
  * -ti – teletype (эмуляция входа в контейнер) и interactive (будем в эмуляции, пока сами не выйдем)
  * -e – прописать переменные окружения 
  * -d – запустить в фоновом режиме (демоном)
  * --link – подключение по сети двух контейнеров, legacy функция
  *  -p – используется для проброса портов

### Наиболее используемые команды Docker:
  * docker pull имя образа – скачивание образа
  * docker ps – используется для просмотра активных контейнеров
  * docker run * -v /home/mount/data:/var/lib/mysql/data – примонтировать директорию на хосте в docker; в Docker Compose сначала указывается docker путь, потом хост путь
  * docker network ls – показать сети docker
  * docker images - список образов в системе.
  * docker network inspect [имя сети] – посмотреть конфигурацию сети
  * docker rm [имя] – удалить контейнер
  * docker rmi [имя] – удалить image
  * -d - запускает контейнер в фоновом режиме;
  * --name - имя контейнера, по которому потом можно будет к нему обращаться;  
  * --add-host - добавляет строчку в /etc/hosts;
  * --restart - указывает, когда надо перезапускать контейнер. Возможные значения: no, on-failure, always, unless-stopped;
  * --rm - удаляет контейнер после завершения его работы;  
  * --expose - позволяет пробросить несколько портов из контейнера в хост-систему;
  * -P - пробрасывает все порты контейнера в хост-систему;
  * -p - переносит все порты контейнера в хост-систему без смены номера порта;  
  * -v, --volume - позволяет монтировать папки хоста в контейнер;
  * -w - изменяет рабочую директорию контейнера.
  * docker port [CONTAINER] - увидеть порты с помощью команды.
### Установка Докера на Кали Линукс
  * https://www.kali.org/docs/containers/installing-docker-on-kali/
  1. sudo apt update; sudo apt full-upgrade -y
  2. sudo apt install -y docker.io
  3. sudo systemctl enable docker --now
  4. sudo usermod -aG docker $USER
  5. docker 
#### Старт образа, контейнер докера:
*  docker-compose up -d ( внутри папки с контенером, происходит запуск)
#### Остановка контейнера
* выполните команду docker ps.
* найдите запущенный контейнер, который использует занятый ранее порт, и остановите его командой:
* docker stop [имя контейнера или его идентификатор]
